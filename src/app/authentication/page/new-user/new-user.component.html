<form [formGroup]="form" (ngSubmit)="saveUser($event)" class="center-lg">
  <mat-card>
    <mat-card-header class="center-lg">
      <mat-card-title>Crear Usuario</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <input placeholder="Nombre Usuario"
                   formControlName="nombreUsuario"
                   matInput type="text"
                   (input)="form.get('nombreUsuario')?.setValue(form.get('nombreUsuario')?.value.toUpperCase())"
            >
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <input placeholder="Nombres" formControlName="nombres" matInput type="text">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <input placeholder="Apellidos" formControlName="apellidos" matInput type="text">
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <mat-label>Select Country</mat-label>
            <mat-select formControlName="pais">
              <mat-option (click)="loadState(country.country_name)"  *ngFor="let country of countries" [value]="country.country_name">
                {{country.country_name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <mat-label>Select State</mat-label>
            <mat-select formControlName="estado">
              <mat-option (click)="loadCities(state.state_name)" *ngFor="let state of states" [value]="state.state_name">
                {{state.state_name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <mat-label>Select City</mat-label>
            <mat-select formControlName="ciudad">
              <mat-option  *ngFor="let city of cities" [value]="city.city_name">
                {{city.city_name}}
              </mat-option>
              <mat-option [value]="">
                {{ 'Select city' }}
              </mat-option>
              <mat-option *ngIf="cities.length === 0 && states.length > 0 " [value]="cityOptional">
                {{ cityOptional }}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-form-field>
            <mat-label>Enter your password</mat-label>
            <input placeholder="Password" formControlName="password" matInput [type]="hide ? 'password' : 'text'">
            <a mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
              <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
            </a>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xs">
          <mat-checkbox class="example-margin" formControlName="check">Quiero ser Anfitrion</mat-checkbox>
        </div>
      </div>
    </mat-card-content>
    <mat-card-actions>
      <div class="row">
        <div class="col-xs">
          <button mat-raised-button color="accent" type="submit" [disabled]="form.invalid">Guardar Usuario</button>
        </div>
      </div>
    </mat-card-actions>
  </mat-card>
</form>
